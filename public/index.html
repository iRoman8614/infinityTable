<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Virtualized Table</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
  </style>
</head>
<body>

<script>
  window.hp = async function() {
    console.log('[HP] –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤...');
    await new Promise(resolve => setTimeout(resolve, 100));

    return {
      "headers": [
        {
          "id": "line1",
          "parentId": "null",
          "type": "NODE",
          "name": "–õ–∏–Ω–∏—è –ê",
          "metadata": {
            "color": "#ff9800",
            "tooltip": "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–∏–Ω–∏—è —Å–±–æ—Ä–∫–∏",
            "workCount": 15
          }
        },
        {
          "id": "station1",
          "parentId": "line1",
          "type": "ASSEMBLE",
          "name": "–°—Ç–∞–Ω—Ü–∏—è 1",
          "metadata": {
            "color": "#f44336",
            "tooltip": "–ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è —Å–±–æ—Ä–∫–∏",
            "workCount": 3
          }
        },
        {
          "id": "station2",
          "parentId": "line1",
          "type": "ASSEMBLE",
          "name": "–°—Ç–∞–Ω—Ü–∏—è 2",
          "metadata": {
            "color": "#f44336",
            "tooltip": "–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è",
            "workCount": 4
          }
        },
        {
          "id": "station3",
          "parentId": "line1",
          "type": "ASSEMBLE",
          "name": "–°—Ç–∞–Ω—Ü–∏—è 3",
          "metadata": {
            "color": "#f44336",
            "tooltip": "–§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è",
            "workCount": 5
          }
        },
        {
          "id": "station1_detail1",
          "parentId": "station1",
          "type": "COMPONENT",
          "name": "–ö–æ–º–ø–æ–Ω–µ–Ω—Ç 1",
          "metadata": {
            "color": "#9c27b0",
            "tooltip": "–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è",
            "workCount": 2
          }
        },
        {
          "id": "station1_detail2",
          "parentId": "station1",
          "type": "COMPONENT",
          "name": "–î–µ—Ç–∞–ª—å 1",
          "metadata": {
            "color": "#795548",
            "tooltip": "–£–ø–∞–∫–æ–≤–æ—á–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è",
            "workCount": 3
          }
        },
        {
          "id": "station1_detail3",
          "parentId": "station1",
          "type": "COMPONENT",
          "name": "–∫–æ–º–ø–æ–Ω–µ–Ω—Ç 1",
          "metadata": {
            "color": "#795548",
            "tooltip": "–£–ø–∞–∫–æ–≤–æ—á–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è",
            "workCount": 3
          }
        },
        {
          "id": "station2_detail1",
          "parentId": "station2",
          "type": "COMPONENT",
          "name": "–ö–æ–º–ø–æ–Ω–µ–Ω—Ç 2",
          "metadata": {
            "color": "#9c27b0",
            "tooltip": "–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è",
            "workCount": 2
          }
        },
        {
          "id": "station2_detail2",
          "parentId": "station1",
          "type": "COMPONENT",
          "name": "–î–µ—Ç–∞–ª—å 2",
          "metadata": {
            "color": "#795548",
            "tooltip": "–£–ø–∞–∫–æ–≤–æ—á–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è",
            "workCount": 3
          }
        },
        {
          "id": "station2_detail3",
          "parentId": "station2",
          "type": "COMPONENT",
          "name": "–∫–æ–º–ø–æ–Ω–µ–Ω—Ç 2",
          "metadata": {
            "color": "#795548",
            "tooltip": "–£–ø–∞–∫–æ–≤–æ—á–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è",
            "workCount": 3
          }
        },
        {
          "id": "station3_detail1",
          "parentId": "station3",
          "type": "COMPONENT",
          "name": "–ö–æ–º–ø–æ–Ω–µ–Ω—Ç 3",
          "metadata": {
            "color": "#9c27b0",
            "tooltip": "–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è",
            "workCount": 2
          }
        },
        {
          "id": "station3_detail2",
          "parentId": "station3",
          "type": "COMPONENT",
          "name": "–î–µ—Ç–∞–ª—å 3",
          "metadata": {
            "color": "#795548",
            "tooltip": "–£–ø–∞–∫–æ–≤–æ—á–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è",
            "workCount": 3
          }
        },
        {
          "id": "station3_detail3",
          "parentId": "station3",
          "type": "COMPONENT",
          "name": "–∫–æ–º–ø–æ–Ω–µ–Ω—Ç 3",
          "metadata": {
            "color": "#795548",
            "tooltip": "–£–ø–∞–∫–æ–≤–æ—á–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è",
            "workCount": 3
          }
        },
      ]
    };
  };


  window.dp = async function(startDate, direction, batchSize) {
    console.log(`[DP] startDate: ${startDate}, direction: ${direction}, batchSize: ${batchSize}`);

    const fullData = {
      "data": [
        {
          "date": "01.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ü",
              "color": "#ff5722",
              "rowspan": 2,
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–†",
              "color": "#4caf50",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ú",
              "color": "#2196f3",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "02.10.2025",
          "columns": [
            {
              "headerId": "station2",
              "value": "–ü",
              "color": "#ffeb3b",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–†",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "03.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ú",
              "color": "#9c27b0",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–û",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ü",
              "color": "#e91e63",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "04.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–†",
              "color": "#00bcd4",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–ü",
              "color": "#ff9800",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ú",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "05.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ü",
              "color": "#795548",
              "rowspan": 3,
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–†",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–û",
              "color": "#607d8b",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "06.10.2025",
          "columns": [
            {
              "headerId": "station2",
              "value": "–ú",
              "color": "#3f51b5",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ü",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "07.10.2025",
          "columns": [
            {
              "headerId": "station2",
              "value": "–†",
              "color": "#cddc39",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ú",
              "color": "#009688",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "08.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–û",
              "color": "#ff5252",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–ü",
              "color": "#69f0ae",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–†",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "09.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ú",
              "color": "#448aff",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–†",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ü",
              "color": "#e040fb",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "10.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ü",
              "color": "#ffab40",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–û",
              "color": "#8d6e63",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ú",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "11.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–†",
              "color": "#b0bec5",
              "colspan": 2,
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ü",
              "color": "#ef5350",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "12.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ú",
              "color": "#66bb6a",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–ü",
              "color": "#42a5f5",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–†",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "13.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–û",
              "color": "#ab47bc",
              "rowspan": 2,
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–†",
              "color": "#ffa726",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ú",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "14.10.2025",
          "columns": [
            {
              "headerId": "station2",
              "value": "–ü",
              "color": "#8d6e63",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–û",
              "color": "#78909c",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "15.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ü",
              "color": "#ef9a9a",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–ú",
              "color": "#80cbc4",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–†",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "16.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–†",
              "color": "#9fa8da",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–û",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ü",
              "color": "#ce93d8",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "17.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ú",
              "color": "#ffcc80",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–ü",
              "color": "#bcaaa4",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–†",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "18.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ü",
              "color": "#b0bec5",
              "rowspan": 3,
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–†",
              "color": "#ef5350",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ú",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "19.10.2025",
          "columns": [
            {
              "headerId": "station2",
              "value": "–û",
              "color": "#66bb6a",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ü",
              "color": "#42a5f5",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "20.10.2025",
          "columns": [
            {
              "headerId": "station2",
              "value": "–ú",
              "color": "#ab47bc",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–†",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "21.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–û",
              "color": "#ffa726",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–ü",
              "color": "#8d6e63",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ú",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "22.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–†",
              "color": "#78909c",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–ü",
              "color": "#ef9a9a",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–û",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "23.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ú",
              "color": "#80cbc4",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–†",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ü",
              "color": "#9fa8da",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "24.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ü",
              "color": "#ce93d8",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–û",
              "color": "#ffcc80",
              "colspan": 2,
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "25.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–†",
              "color": "#bcaaa4",
              "rowspan": 2,
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–ú",
              "color": "#b0bec5",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ü",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "26.10.2025",
          "columns": [
            {
              "headerId": "station2",
              "value": "–†",
              "color": "#ff5252",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–û",
              "color": "#69f0ae",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "27.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ú",
              "color": "#448aff",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–ü",
              "color": "#e040fb",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–†",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "28.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–û",
              "color": "#ffab40",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–ú",
              "color": "#8d6e63",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ü",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "29.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–ü",
              "color": "#ef5350",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–†",
              "color": "#66bb6a",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ú",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        },
        {
          "date": "30.10.2025",
          "columns": [
            {
              "headerId": "station1",
              "value": "–†",
              "color": "#42a5f5",
              "draggable": true,
              "children": [
                { "id": "station1_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station1_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station1_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station2",
              "value": "–û",
              "color": "#ab47bc",
              "draggable": true,
              "children": [
                { "id": "station2_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station2_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station2_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            },
            {
              "headerId": "station3",
              "value": "–ü",
              "color": "#ffa726",
              "draggable": true,
              "children": [
                { "id": "station3_detail1", "name": "–î–µ—Ç–∞–ª—å 1", "value": "450" },
                { "id": "station3_detail2", "name": "–î–µ—Ç–∞–ª—å 2", "value": "320" },
                { "id": "station3_detail3", "name": "–î–µ—Ç–∞–ª—å 3", "value": "320" }
              ]
            }
          ]
        }
      ]
    };

    return JSON.stringify(fullData);
  };

  console.log('‚úÖ –§—É–Ω–∫—Ü–∏–∏ window.hp –∏ window.dp –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã');
</script>

<virtualized-table hp="hp" dp="dp" edit-mode="true"></virtualized-table>

<script src="./virtualized-table.js"></script>

<script>
  setTimeout(function() {
    if (typeof VirtualizedTableAPI !== 'undefined') {
      VirtualizedTableAPI.setOnCellDoubleClick(function(jsonString) {
        console.log('üëÜ Double Click:', JSON.parse(jsonString));
      });

      VirtualizedTableAPI.setOnCellMove(function(jsonString) {
        console.log('üîÑ Cell Move:', JSON.parse(jsonString));
      });

      VirtualizedTableAPI.setOnDataLoad(function(dataArray, startDate, batchSize) {
        console.log('üì• Data Loaded:', dataArray.length, 'records for', startDate);
      });

      VirtualizedTableAPI.setOnError(function(error, context) {
        console.error('‚ùå Error:', error, context);
      });

      console.log('‚úÖ API –Ω–∞—Å—Ç—Ä–æ–µ–Ω');
      console.log('üìä State:', VirtualizedTableAPI.getState());
    }
  }, 500);
</script>
</body>
</html>